<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1118px" preserveAspectRatio="none" style="width:1430px;height:1118px;background:#FFFFFF;" version="1.1" viewBox="0 0 1430 1118" width="1430px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="934.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="72.5" y="92.6094"/><rect fill="#FFFFFF" height="912.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="286.5" y="114.9609"/><rect fill="#FFFFFF" height="104.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="596.5" y="145.3125"/><rect fill="#FFFFFF" height="65.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="596.5" y="348.4219"/><rect fill="#FFFFFF" height="513.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="596.5" y="474.8281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="971.5" y="505.1797"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="971.5" y="867.2891"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1063" y="625.8828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1063" y="746.5859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1219" y="219.0156"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1219" y="686.2344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1219" y="806.9375"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1370.5" y="383.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1370.5" y="565.5313"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1370.5" y="927.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="82.6094" y2="1036.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="291.5" x2="291.5" y1="82.6094" y2="1036.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="601.5" x2="601.5" y1="82.6094" y2="1036.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="976" x2="976" y1="82.6094" y2="1036.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1068" x2="1068" y1="82.6094" y2="1036.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1224" x2="1224" y1="82.6094" y2="1036.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1375" x2="1375" y1="82.6094" y2="1036.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="5" y="79.5332">Warehouse Employee</text><ellipse cx="77.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M77.5,21.5 L77.5,48.5 M64.5,29.5 L90.5,29.5 M77.5,48.5 L64.5,63.5 M77.5,48.5 L90.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="5" y="1049.877">Warehouse Employee</text><ellipse cx="77.5" cy="1061.4531" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M77.5,1069.4531 L77.5,1096.4531 M64.5,1077.4531 L90.5,1077.4531 M77.5,1096.4531 L64.5,1111.4531 M77.5,1096.4531 L90.5,1111.4531 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="232.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="239.5" y="71.5332">:PrepareOrderUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="232.5" y="1035.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="239.5" y="1056.877">:PrepareOrderUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="517.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="524.5" y="71.5332">:PrepareOrderController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="517.5" y="1035.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="524.5" y="1056.877">:PrepareOrderController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="953" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="960" y="71.5332">:AGV</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="953" y="1035.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="960" y="1056.877">:AGV</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1010" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1017" y="71.5332">:CustomerOrder</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1010" y="1035.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1017" y="1056.877">:CustomerOrder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="1136" y="79.5332">:CustomerOrderRepository</text><path d="M1206,29 C1206,19 1224,19 1224,19 C1224,19 1242,19 1242,29 L1242,55 C1242,65 1224,65 1224,65 C1224,65 1206,65 1206,55 L1206,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1206,29 C1206,39 1224,39 1224,39 C1224,39 1242,39 1242,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="1136" y="1049.877">:CustomerOrderRepository</text><path d="M1206,1062.9531 C1206,1052.9531 1224,1052.9531 1224,1052.9531 C1224,1052.9531 1242,1052.9531 1242,1062.9531 L1242,1088.9531 C1242,1098.9531 1224,1098.9531 1224,1098.9531 C1224,1098.9531 1206,1098.9531 1206,1088.9531 L1206,1062.9531 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1206,1062.9531 C1206,1072.9531 1224,1072.9531 1224,1072.9531 C1224,1072.9531 1242,1072.9531 1242,1062.9531 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1322" y="79.5332">:AGVRepository</text><path d="M1357.5,29 C1357.5,19 1375.5,19 1375.5,19 C1375.5,19 1393.5,19 1393.5,29 L1393.5,55 C1393.5,65 1375.5,65 1375.5,65 C1375.5,65 1357.5,65 1357.5,55 L1357.5,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1357.5,29 C1357.5,39 1375.5,39 1375.5,39 C1375.5,39 1393.5,39 1393.5,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1322" y="1049.877">:AGVRepository</text><path d="M1357.5,1062.9531 C1357.5,1052.9531 1375.5,1052.9531 1375.5,1052.9531 C1375.5,1052.9531 1393.5,1052.9531 1393.5,1062.9531 L1393.5,1088.9531 C1393.5,1098.9531 1375.5,1098.9531 1375.5,1098.9531 C1375.5,1098.9531 1357.5,1098.9531 1357.5,1088.9531 L1357.5,1062.9531 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1357.5,1062.9531 C1357.5,1072.9531 1375.5,1072.9531 1375.5,1072.9531 C1375.5,1072.9531 1393.5,1072.9531 1393.5,1062.9531 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="934.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="72.5" y="92.6094"/><rect fill="#FFFFFF" height="912.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="286.5" y="114.9609"/><rect fill="#FFFFFF" height="104.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="596.5" y="145.3125"/><rect fill="#FFFFFF" height="65.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="596.5" y="348.4219"/><rect fill="#FFFFFF" height="513.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="596.5" y="474.8281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="971.5" y="505.1797"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="971.5" y="867.2891"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1063" y="625.8828"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1063" y="746.5859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1219" y="219.0156"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1219" y="686.2344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1219" y="806.9375"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1370.5" y="383.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1370.5" y="565.5313"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1370.5" y="927.6406"/><polygon fill="#181818" points="274.5,110.9609,284.5,114.9609,274.5,118.9609,278.5,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="280.5" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="89.5" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="100.5" y="110.1045">Prepare Order</text><polygon fill="#181818" points="584.5,141.3125,594.5,145.3125,584.5,149.3125,588.5,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="296.5" x2="590.5" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="303.5" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="314.5" y="140.4561">create()</text><line style="stroke:#181818;stroke-width:1.0;" x1="296.5" x2="338.5" y1="175.6641" y2="175.6641"/><line style="stroke:#181818;stroke-width:1.0;" x1="338.5" x2="338.5" y1="175.6641" y2="188.6641"/><line style="stroke:#181818;stroke-width:1.0;" x1="297.5" x2="338.5" y1="188.6641" y2="188.6641"/><polygon fill="#181818" points="307.5,184.6641,297.5,188.6641,307.5,192.6641,303.5,188.6641" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="303.5" y="170.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="314.5" y="170.8076">showOrders()</text><polygon fill="#181818" points="1207,215.0156,1217,219.0156,1207,223.0156,1211,219.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="1213" y1="219.0156" y2="219.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="613.5" y="214.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="624.5" y="214.1592">findByOrderStatus(OrderStatus.paymentSucceeded)</text><polygon fill="#181818" points="612.5,245.3672,602.5,249.3672,612.5,253.3672,608.5,249.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="606.5" x2="1223" y1="249.3672" y2="249.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="618.5" y="244.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="629.5" y="244.5107">customerOrdersList</text><polygon fill="#181818" points="93.5,275.7188,83.5,279.7188,93.5,283.7188,89.5,279.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87.5" x2="285.5" y1="279.7188" y2="279.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="99.5" y="274.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="110.5" y="274.8623">ask to select a order</text><polygon fill="#181818" points="274.5,306.0703,284.5,310.0703,274.5,314.0703,278.5,310.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="280.5" y1="310.0703" y2="310.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="89.5" y="305.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="100.5" y="305.2139">selects an order</text><line style="stroke:#181818;stroke-width:1.0;" x1="296.5" x2="343.5" y1="335.4219" y2="335.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="343.5" x2="343.5" y1="335.4219" y2="348.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="302.5" x2="343.5" y1="348.4219" y2="348.4219"/><polygon fill="#181818" points="312.5,344.4219,302.5,348.4219,312.5,352.4219,308.5,348.4219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="308.5" y="330.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="319.5" y="330.5654">showAGV()</text><polygon fill="#181818" points="1358.5,379.7734,1368.5,383.7734,1358.5,387.7734,1362.5,383.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="1364.5" y1="383.7734" y2="383.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="613.5" y="378.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="624.5" y="378.917">findByCurrentTask(CurrentTask.FREE)</text><polygon fill="#181818" points="612.5,410.125,602.5,414.125,612.5,418.125,608.5,414.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="606.5" x2="1374.5" y1="414.125" y2="414.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="618.5" y="409.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="636.5" y="409.2686">agvList</text><polygon fill="#181818" points="93.5,440.4766,83.5,444.4766,93.5,448.4766,89.5,444.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87.5" x2="285.5" y1="444.4766" y2="444.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="99.5" y="439.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="117.5" y="439.6201">ask to select an AGV</text><polygon fill="#181818" points="584.5,470.8281,594.5,474.8281,584.5,478.8281,588.5,474.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="296.5" x2="590.5" y1="474.8281" y2="474.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="303.5" y="469.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="321.5" y="469.9717">prepareOrder(CostumerOrder order ,AGV agv)</text><polygon fill="#181818" points="959.5,501.1797,969.5,505.1797,959.5,509.1797,963.5,505.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="965.5" y1="505.1797" y2="505.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="613.5" y="500.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328" x="631.5" y="500.3232">agv.changeCurrentTask(CurrentTask.SERVING_ORDER)</text><polygon fill="#181818" points="1358.5,561.5313,1368.5,565.5313,1358.5,569.5313,1362.5,565.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="1364.5" y1="565.5313" y2="565.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="613.5" y="560.6748">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="631.5" y="560.6748">save(agv)</text><polygon fill="#181818" points="1051,621.8828,1061,625.8828,1051,629.8828,1055,625.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="1057" y1="625.8828" y2="625.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="613.5" y="621.0264">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="631.5" y="621.0264">order.changeStatus(OrderStatus.beingPrepared)</text><polygon fill="#181818" points="1207,682.2344,1217,686.2344,1207,690.2344,1211,686.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="1213" y1="686.2344" y2="686.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="613.5" y="681.3779">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="631.5" y="681.3779">save(order)</text><polygon fill="#181818" points="1051,742.5859,1061,746.5859,1051,750.5859,1055,746.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="1057" y1="746.5859" y2="746.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="613.5" y="741.7295">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="631.5" y="741.7295">order.changeStatus(OrderStatus.prepared)</text><polygon fill="#181818" points="1207,802.9375,1217,806.9375,1207,810.9375,1211,806.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="1213" y1="806.9375" y2="806.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="613.5" y="802.0811">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="631.5" y="802.0811">save(order)</text><polygon fill="#181818" points="959.5,863.2891,969.5,867.2891,959.5,871.2891,963.5,867.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="965.5" y1="867.2891" y2="867.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="613.5" y="862.4326">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="631.5" y="862.4326">agv.changeCurrentTask(CurrentTask.FREE)</text><polygon fill="#181818" points="1358.5,923.6406,1368.5,927.6406,1358.5,931.6406,1362.5,927.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="1364.5" y1="927.6406" y2="927.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="613.5" y="922.7842">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="631.5" y="922.7842">save(agv)</text><polygon fill="#181818" points="307.5,983.9922,297.5,987.9922,307.5,991.9922,303.5,987.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="301.5" x2="600.5" y1="987.9922" y2="987.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="313.5" y="983.1357">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="331.5" y="983.1357">return true</text><polygon fill="#181818" points="93.5,1014.3438,83.5,1018.3438,93.5,1022.3438,89.5,1018.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87.5" x2="285.5" y1="1018.3438" y2="1018.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="99.5" y="1013.4873">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="117.5" y="1013.4873">Order successfully prepared</text><!--MD5=[969c396391c5d4d9aa0cf7ffa7dd6cdb]
@startuml
'https://plantuml.com/sequence-diagram

autonumber
actor "Warehouse Employee" as we


participant ":PrepareOrderUI" as ui
participant ":PrepareOrderController" as controller
participant ":AGV" as agv
participant ":CustomerOrder" as co

database ":CustomerOrderRepository" as cor
database ":AGVRepository" as agvr


activate we
we -> ui : Prepare Order
activate ui
ui -> controller : create()
activate controller
ui -> ui : showOrders()
controller -> cor : findByOrderStatus(OrderStatus.paymentSucceeded)
activate cor
cor - -> controller : customerOrdersList
deactivate cor
deactivate controller
ui - -> we : ask to select a order
we -> ui : selects an order
ui -> ui : showAGV()
activate controller
controller -> agvr : findByCurrentTask(CurrentTask.FREE)
activate agvr
agvr - -> controller : agvList
deactivate agvr
deactivate controller
ui - -> we : ask to select an AGV
ui -> controller : prepareOrder(CostumerOrder order ,AGV agv)
activate controller
controller -> agv : agv.changeCurrentTask(CurrentTask.SERVING_ORDER)
activate agv
deactivate agv
controller -> agvr : save(agv)
activate agvr
deactivate agvr
controller -> co : order.changeStatus(OrderStatus.beingPrepared)
activate co
deactivate co
controller -> cor : save(order)
activate cor
deactivate cor
controller -> co : order.changeStatus(OrderStatus.prepared)
activate co
deactivate co
controller -> cor : save(order)
activate cor
deactivate cor
controller -> agv : agv.changeCurrentTask(CurrentTask.FREE)
activate agv
deactivate agv
controller -> agvr : save(agv)
activate agvr
deactivate agvr
controller - -> ui : return true
deactivate controller
ui - -> we : Order successfully prepared

@enduml

@startuml

autonumber
actor "Warehouse Employee" as we


participant ":PrepareOrderUI" as ui
participant ":PrepareOrderController" as controller
participant ":AGV" as agv
participant ":CustomerOrder" as co

database ":CustomerOrderRepository" as cor
database ":AGVRepository" as agvr


activate we
we -> ui : Prepare Order
activate ui
ui -> controller : create()
activate controller
ui -> ui : showOrders()
controller -> cor : findByOrderStatus(OrderStatus.paymentSucceeded)
activate cor
cor - -> controller : customerOrdersList
deactivate cor
deactivate controller
ui - -> we : ask to select a order
we -> ui : selects an order
ui -> ui : showAGV()
activate controller
controller -> agvr : findByCurrentTask(CurrentTask.FREE)
activate agvr
agvr - -> controller : agvList
deactivate agvr
deactivate controller
ui - -> we : ask to select an AGV
ui -> controller : prepareOrder(CostumerOrder order ,AGV agv)
activate controller
controller -> agv : agv.changeCurrentTask(CurrentTask.SERVING_ORDER)
activate agv
deactivate agv
controller -> agvr : save(agv)
activate agvr
deactivate agvr
controller -> co : order.changeStatus(OrderStatus.beingPrepared)
activate co
deactivate co
controller -> cor : save(order)
activate cor
deactivate cor
controller -> co : order.changeStatus(OrderStatus.prepared)
activate co
deactivate co
controller -> cor : save(order)
activate cor
deactivate cor
controller -> agv : agv.changeCurrentTask(CurrentTask.FREE)
activate agv
deactivate agv
controller -> agvr : save(agv)
activate agvr
deactivate agvr
controller - -> ui : return true
deactivate controller
ui - -> we : Order successfully prepared

@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>